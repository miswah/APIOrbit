<div class="grid grid-cols-4 gap-4" *ngIf="overview">
  <!-- KPI Cards -->
  <div>
    <p-card header="Total APIs">{{ overview.totalApis }}</p-card>
  </div>
  <div>
    <p-card header="Active APIs">{{ overview.activeApis }}</p-card>
  </div>
    <div>
    <p-card header="Active APIs">{{ overview.pendingApis }}</p-card>
  </div>
  <div>
    <p-card header="Total Versions">{{ overview.totalVersions }}</p-card>
  </div>
</div>




  <!-- Charts -->
<div class="grid grid-cols-2 gap-4 mt-5">
    <div>
    <p-card header="Audit Activity">
      <p-chart type="bar" [data]="auditByAction" class="h-100"></p-chart>
    </p-card>
  </div>
  
  <!-- <div>
    <p-card header="Top Versioned APIs">
      <p-table [value]="topApis">
        <ng-template pTemplate="header">
          <tr>
            <th>API Name</th>
            <th>Versions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-api>
          <tr>
            <td>{{ api.apiName }}</td>
            <td>{{ api.versions }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div> -->

  <div>
    <p-card header="Top Active Users">
      <p-table [value]="topUsers">
        <ng-template pTemplate="header">
          <tr>
            <th>User</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.actionsPerformed }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>
</div>

<div class="grid grid-cols-3 gap-4 mt-5">
     <div>
         <p-card header="APIs by HTTP Method">
      <p-chart type="pie" [data]="apisByMethod"></p-chart>
    </p-card>
    </div>

<div>
    <p-card header="API Status">
    <p-chart type="doughnut" [data]="apisByStatus"></p-chart>
    </p-card>
</div>

<div class="mt-3">
    <p-card header="Mock API Status">
      <p-chart type="doughnut" [data]="mockStatus"></p-chart>
    </p-card>
  </div>
</div>

  <!-- Table -->
  <div class="col-12 md:col-6 mt-5">
    <p-card header="Top Versioned APIs">
      <p-table [value]="topApis">
        <ng-template pTemplate="header">
          <tr>
            <th>API Name</th>
            <th>Versions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-api>
          <tr>
            <td>{{ api.apiName }}</td>
            <td>{{ api.versions }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>

